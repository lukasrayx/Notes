# 03.2 Prozesse und Threads



## Threads in WIndows

## Threads in Linux









# 04.1 Scheduling

## Inhalt

- Abfertigungszustände und Zustandsübergänge
- Klassische CPU-Zuteilungsstrategien
- Bewertungskriterien und Vergleich



## Abfertigungszustand

Jedem Prozess ist <u>in Abhängigkeit von der Einplanungsebene</u> 根据调度级别 ein logischer Zustand zugeordnet, der den Abfertigungszustand调度状态 zu einem Zeitpunkt angibt表示:

- Short-term scheduling
  - Ready
    - Prozess ist auf der Warteliste 
    - Listenposition bestimmt sich durch das Einlannungsverfahren
  - running
    - Prozess führt Berechnungen durch 
    - Für jeden Prozessor gibt es zu einem Zeitpunkt nur einen laufenden Prozess.
  - blocked
    - Prozess führt „Ein-/Ausgabe“ durch, er vollzieht seinen E/A-Stoß
- Medium-term scheduling 
  - Prozess ist komplett ausgelagert, d.h. der Inhalt seines gesamten Adressraums wurde in den Hintergrundspeicher verschoben (swap-out) und der von dem Prozess belegte Vordergrundspeicher wurde freigegeben. Die Einlagerung (swap-in) des Adressraums ist abzuwarten: 进程被完全换出，即其整个地址空间的内容已被移至后台内存（换出），进程所占用的前台内存已被释放。必须等待地址空间的存储（换入）。
  - ausgelagert bereit (ready suspend)
    - CPU-Zuteilung („bereit“) ist außer Kraft gesetzt    CPU分配（"准备好"）被覆盖了
    - Prozess ist auf der Warteliste für die Speicherzuteilung
  - ausgelagert blockiert (blocked suspend)
    - Prozess erwartet weiterhin ein Ereignis („blockiert“)
- Long-term scheduling
  - Erzeugt (New)
    - Prozess ist instanziiert, ihm wurde ein Programm zugeordnet (Ready)
  - Beendet (Exit)
    - Prozess ist terminiert, seine Betriebsmittel werden freigegeben 



## Klassische CPU-Zuteilungsstrategien 

### P13

Bedienzeit Ts (s for serve)

Durchlauf Tr : Die Differenz von Ende und Ankunft

Bei Prozess C, Tr/Ts (normalisierte Durchlaufzeit) ist sehr groß, das ist unzufrieden

### P14

Convoy effekt 护航效应: tritt auf , wenn alle folgende Prozesse eines CPU intensiven Prozesses warten müssen

- hohe Antwortzeit
- niedriger E/A-Durchsatz       I/O吞吐量

Mit dem Problem sind immer kurz laufende E/A-lastige Prozesse konfrontiert, die langen CPU-lastigen Prozessen folgen.这个问题总是面临着短时运行的I/O重度进程，而这些进程紧随长的CPU重度进程。

FCFS有利于长期作业，不利于短期作业。有利于CPU繁忙型，不利于I/O繁忙型

### P15

**CPU Burst**. It is the amount of time, a process uses the CPU until it starts waiting for some input or interrupted by some other process. **I/O Burst** or Input Output burst. It is the amount of time, a process waits for input-output before needing CPU time.

**Round Robin - RR** 轮询调度: one method of having different program process **take turns** using the resources of the computer is to limit each process to a certain short time period, then suspending that process to give another process a turn (or "time-slice"). This is often described as round-robin process scheduling.

Verringert die bei FCFS auftretende Benachteiligung kurzer CPUStöße 减少了FCFS中出现的CPU短时区间的缺点

time slicing: 时间切片的本质就是将长任务分割为一个个执行时间很短的任务，然后再一个个地执行。

Der unterbrochene Prozess wird ans Ende der Bereitliste verdrängt,被中断的进程被推到准备就绪列表的最后。

E/A-lastige Prozesse beenden ihren CPU-Stoß innerhalb ihrer Zeitscheibe 在时间切片内

sie blockieren und kommen mit Ende ihres E/A-Stoßes in die Bereitliste 在其I/O区间结束后会阻断并进入Bereitliste

**FCFS:**

![](https://i.imgur.com/XIMqFTe.jpg)

**RR:**

![](https://i.imgur.com/mSSEPwB.jpg)









